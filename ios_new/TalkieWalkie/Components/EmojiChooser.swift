//
//  EmojiChooser.swift
//  TalkieWalkie
//
//  Created by Alexandre Carlier on 05.10.21.
//

import SwiftUI
import SDWebImageSwiftUI

class EmojiStore {
    let smileysPeople = "ðŸ˜€ðŸ˜¬ðŸ˜ðŸ˜‚ðŸ˜ƒðŸ˜„ðŸ˜…ðŸ˜†ðŸ˜‡ðŸ˜‰ðŸ˜ŠðŸ™‚ðŸ™ƒâ˜ºðŸ˜‹ðŸ˜ŒðŸ˜ðŸ˜˜ðŸ˜—ðŸ˜™ðŸ˜šðŸ˜œðŸ˜ðŸ˜›ðŸ¤‘ðŸ¤“ðŸ˜ŽðŸ¤—ðŸ˜ðŸ˜¶ðŸ˜ðŸ˜‘ðŸ˜’ðŸ™„ðŸ¤”ðŸ˜³ðŸ˜žðŸ˜ŸðŸ˜ ðŸ˜¡ðŸ˜”ðŸ˜•ðŸ™â˜¹ðŸ˜£ðŸ˜–ðŸ˜«ðŸ˜©ðŸ˜¤ðŸ˜®ðŸ˜±ðŸ˜¨ðŸ˜°ðŸ˜¯ðŸ˜¦ðŸ˜§ðŸ˜¢ðŸ˜¥ðŸ˜ªðŸ˜“ðŸ˜­ðŸ˜µðŸ˜²ðŸ¤ðŸ˜·ðŸ¤’ðŸ¤•ðŸ˜´ðŸ’¤ðŸ’©ðŸ˜ˆðŸ‘¿ðŸ‘¹ðŸ‘ºðŸ’€ðŸ‘»ðŸ‘½ðŸ¤–ðŸ˜ºðŸ˜¸ðŸ˜¹ðŸ˜»ðŸ˜¼ðŸ˜½ðŸ™€ðŸ˜¿ðŸ˜¾ðŸ™ŒðŸ‘ðŸ‘‹ðŸ‘ðŸ‘ŽðŸ‘ŠâœŠâœŒðŸ‘Œâœ‹ðŸ‘ðŸ’ªðŸ™â˜ðŸ‘†ðŸ‘‡ðŸ‘ˆðŸ‘‰ðŸ–•ðŸ–ðŸ¤˜ðŸ––âœðŸ’…ðŸ‘„ðŸ‘…ðŸ‘‚ðŸ‘ƒðŸ‘ðŸ‘€ðŸ‘¤ðŸ‘¥ðŸ—£ðŸ‘¶ðŸ‘¦ðŸ‘§ðŸ‘¨ðŸ‘©ðŸ‘±ðŸ‘´ðŸ‘µðŸ‘²ðŸ‘³ðŸ‘®ðŸ‘·ðŸ’‚ðŸ•µðŸŽ…ðŸ‘¼ðŸ‘¸ðŸ‘°ðŸš¶ðŸƒðŸ’ƒðŸ‘¯ðŸ‘«ðŸ‘¬ðŸ‘­ðŸ™‡ðŸ’ðŸ™…ðŸ™†ðŸ™‹ðŸ™ŽðŸ™ðŸ’‡ðŸ’†ðŸ’‘ðŸ‘©â€â¤ï¸â€ðŸ‘©ðŸ‘¨â€â¤ï¸â€ðŸ‘¨ðŸ’ðŸ‘©â€â¤ï¸â€ðŸ’‹â€ðŸ‘©ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨ðŸ‘ªðŸ‘¨â€ðŸ‘©â€ðŸ‘§ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘§ðŸ‘©â€ðŸ‘©â€ðŸ‘¦ðŸ‘©â€ðŸ‘©â€ðŸ‘§ðŸ‘©â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ðŸ‘©â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦ðŸ‘©â€ðŸ‘©â€ðŸ‘§â€ðŸ‘§ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘¦ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦â€ðŸ‘¦ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘§ðŸ‘šðŸ‘•ðŸ‘–ðŸ‘”ðŸ‘—ðŸ‘™ðŸ‘˜ðŸ’„ðŸ’‹ðŸ‘£ðŸ‘ ðŸ‘¡ðŸ‘¢ðŸ‘žðŸ‘ŸðŸ‘’ðŸŽ©ðŸŽ“ðŸ‘‘â›‘ðŸŽ’ðŸ‘ðŸ‘›ðŸ‘œðŸ’¼ðŸ‘“ðŸ•¶ðŸ’ðŸŒ‚"
    
    let animalsNature = "ðŸ¶ðŸ±ðŸ­ðŸ¹ðŸ°ðŸ»ðŸ¼ðŸ¨ðŸ¯ðŸ¦ðŸ®ðŸ·ðŸ½ðŸ¸ðŸ™ðŸµðŸ™ˆðŸ™‰ðŸ™ŠðŸ’ðŸ”ðŸ§ðŸ¦ðŸ¤ðŸ£ðŸ¥ðŸºðŸ—ðŸ´ðŸ¦„ðŸðŸ›ðŸŒðŸžðŸœðŸ•·ðŸ¦‚ðŸ¦€ðŸðŸ¢ðŸ ðŸŸðŸ¡ðŸ¬ðŸ³ðŸ‹ðŸŠðŸ†ðŸ…ðŸƒðŸ‚ðŸ„ðŸªðŸ«ðŸ˜ðŸðŸðŸ‘ðŸŽðŸ–ðŸ€ðŸðŸ“ðŸ¦ƒðŸ•ŠðŸ•ðŸ©ðŸˆðŸ‡ðŸ¿ðŸ¾ðŸ‰ðŸ²ðŸŒµðŸŽ„ðŸŒ²ðŸŒ³ðŸŒ´ðŸŒ±ðŸŒ¿â˜˜ðŸ€ðŸŽðŸŽ‹ðŸƒðŸ‚ðŸðŸŒ¾ðŸŒºðŸŒ»ðŸŒ¹ðŸŒ·ðŸŒ¼ðŸŒ¸ðŸ’ðŸ„ðŸŒ°ðŸŽƒðŸšðŸ•¸ðŸŒŽðŸŒðŸŒðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒšðŸŒðŸŒ›ðŸŒœðŸŒžðŸŒ™â­ðŸŒŸðŸ’«âœ¨â˜„â˜€ðŸŒ¤â›…ðŸŒ¥ðŸŒ¦â˜ðŸŒ§â›ˆðŸŒ©âš¡ðŸ”¥ðŸ’¥â„ðŸŒ¨â˜ƒâ›„ðŸŒ¬ðŸ’¨ðŸŒªðŸŒ«â˜‚â˜”ðŸ’§ðŸ’¦ðŸŒŠ"
    
    let foodDrink = "ðŸðŸŽðŸðŸŠðŸ‹ðŸŒðŸ‰ðŸ‡ðŸ“ðŸˆðŸ’ðŸ‘ðŸðŸ…ðŸ†ðŸŒ¶ðŸŒ½ðŸ ðŸ¯ðŸžðŸ§€ðŸ—ðŸ–ðŸ¤ðŸ³ðŸ”ðŸŸðŸŒ­ðŸ•ðŸðŸŒ®ðŸŒ¯ðŸœðŸ²ðŸ¥ðŸ£ðŸ±ðŸ›ðŸ™ðŸšðŸ˜ðŸ¢ðŸ¡ðŸ§ðŸ¨ðŸ¦ðŸ°ðŸŽ‚ðŸ®ðŸ¬ðŸ­ðŸ«ðŸ¿ðŸ©ðŸªðŸºðŸ»ðŸ·ðŸ¸ðŸ¹ðŸ¾ðŸ¶ðŸµâ˜•ðŸ¼ðŸ´ðŸ½"
    
    let activity = "âš½ðŸ€ðŸˆâš¾ðŸŽ¾ðŸðŸ‰ðŸŽ±â›³ðŸŒðŸ“ðŸ¸ðŸ’ðŸ‘ðŸðŸŽ¿â›·ðŸ‚â›¸ðŸ¹ðŸŽ£ðŸš£ðŸŠðŸ„ðŸ›€â›¹ðŸ‹ðŸš´ðŸšµðŸ‡ðŸ•´ðŸ†ðŸŽ½ðŸ…ðŸŽ–ðŸŽ—ðŸµðŸŽ«ðŸŽŸðŸŽ­ðŸŽ¨ðŸŽªðŸŽ¤ðŸŽ§ðŸŽ¼ðŸŽ¹ðŸŽ·ðŸŽºðŸŽ¸ðŸŽ»ðŸŽ¬ðŸŽ®ðŸ‘¾ðŸŽ¯ðŸŽ²ðŸŽ°ðŸŽ³"
    
    let travelPlaces = "ðŸš—ðŸš•ðŸš™ðŸšŒðŸšŽðŸŽðŸš“ðŸš‘ðŸš’ðŸšðŸššðŸš›ðŸšœðŸðŸš²ðŸš¨ðŸš”ðŸšðŸš˜ðŸš–ðŸš¡ðŸš ðŸšŸðŸšƒðŸš‹ðŸšðŸš„ðŸš…ðŸšˆðŸšžðŸš‚ðŸš†ðŸš‡ðŸšŠðŸš‰ðŸšðŸ›©âœˆðŸ›«ðŸ›¬â›µðŸ›¥ðŸš¤â›´ðŸ›³ðŸš€ðŸ›°ðŸ’ºâš“ðŸš§â›½ðŸšðŸš¦ðŸš¥ðŸðŸš¢ðŸŽ¡ðŸŽ¢ðŸŽ ðŸ—ðŸŒðŸ—¼ðŸ­â›²ðŸŽ‘â›°ðŸ”ðŸ—»ðŸŒ‹ðŸ—¾ðŸ•â›ºðŸžðŸ›£ðŸ›¤ðŸŒ…ðŸŒ„ðŸœðŸ–ðŸðŸŒ‡ðŸŒ†ðŸ™ðŸŒƒðŸŒ‰ðŸŒŒðŸŒ ðŸŽ‡ðŸŽ†ðŸŒˆðŸ˜ðŸ°ðŸ¯ðŸŸðŸ—½ðŸ ðŸ¡ðŸšðŸ¢ðŸ¬ðŸ£ðŸ¤ðŸ¥ðŸ¦ðŸ¨ðŸªðŸ«ðŸ©ðŸ’’ðŸ›â›ªðŸ•ŒðŸ•ðŸ•‹â›©"
    
    let objects = "âŒšðŸ“±ðŸ“²ðŸ’»âŒ¨ðŸ–¥ðŸ–¨ðŸ–±ðŸ–²ðŸ•¹ðŸ—œðŸ’½ðŸ’¾ðŸ’¿ðŸ“€ðŸ“¼ðŸ“·ðŸ“¸ðŸ“¹ðŸŽ¥ðŸ“½ðŸŽžðŸ“žâ˜ŽðŸ“ŸðŸ“ ðŸ“ºðŸ“»ðŸŽ™ðŸŽšðŸŽ›â±â²â°ðŸ•°â³âŒ›ðŸ“¡ðŸ”‹ðŸ”ŒðŸ’¡ðŸ”¦ðŸ•¯ðŸ—‘ðŸ›¢ðŸ’¸ðŸ’µðŸ’´ðŸ’¶ðŸ’·ðŸ’°ðŸ’³ðŸ’Žâš–ðŸ”§ðŸ”¨âš’ðŸ› â›ðŸ”©âš™â›“ðŸ”«ðŸ’£ðŸ”ªðŸ—¡âš”ðŸ›¡ðŸš¬â˜ âš°âš±ðŸºðŸ”®ðŸ“¿ðŸ’ˆâš—ðŸ”­ðŸ”¬ðŸ•³ðŸ’ŠðŸ’‰ðŸŒ¡ðŸ·ðŸ”–ðŸš½ðŸš¿ðŸ›ðŸ”‘ðŸ—ðŸ›‹ðŸ›ŒðŸ›ðŸšªðŸ›ŽðŸ–¼ðŸ—ºâ›±ðŸ—¿ðŸ›ðŸŽˆðŸŽðŸŽ€ðŸŽðŸŽŠðŸŽ‰ðŸŽŽðŸŽðŸŽŒðŸ®âœ‰ðŸ“©ðŸ“¨ðŸ“§ðŸ’ŒðŸ“®ðŸ“ªðŸ“«ðŸ“¬ðŸ“­ðŸ“¦ðŸ“¯ðŸ“¥ðŸ“¤ðŸ“œðŸ“ƒðŸ“‘ðŸ“ŠðŸ“ˆðŸ“‰ðŸ“„ðŸ“…ðŸ“†ðŸ—“ðŸ“‡ðŸ—ƒðŸ—³ðŸ—„ðŸ“‹ðŸ—’ðŸ“ðŸ“‚ðŸ—‚ðŸ—žðŸ“°ðŸ““ðŸ“•ðŸ“—ðŸ“˜ðŸ“™ðŸ“”ðŸ“’ðŸ“šðŸ“–ðŸ”—ðŸ“ŽðŸ–‡âœ‚ðŸ“ðŸ“ðŸ“ŒðŸ“ðŸš©ðŸ³ðŸ´ðŸ”ðŸ”’ðŸ”“ðŸ”ðŸ–ŠðŸ–‹âœ’ðŸ“âœðŸ–ðŸ–ŒðŸ”ðŸ”Ž"
    
    let symbols = "â¤ðŸ’›ðŸ’šðŸ’™ðŸ’œðŸ’”â£ðŸ’•ðŸ’žðŸ’“ðŸ’—ðŸ’–ðŸ’˜ðŸ’ðŸ’Ÿâ˜®âœâ˜ªðŸ•‰â˜¸âœ¡ðŸ”¯ðŸ•Žâ˜¯â˜¦ðŸ›â›Žâ™ˆâ™‰â™Šâ™‹â™Œâ™â™Žâ™â™â™‘â™’â™“ðŸ†”âš›ðŸˆ³ðŸˆ¹â˜¢â˜£ðŸ“´ðŸ“³ðŸˆ¶ðŸˆšðŸˆ¸ðŸˆºðŸˆ·âœ´ðŸ†šðŸ‰‘ðŸ’®ðŸ‰ãŠ™ãŠ—ðŸˆ´ðŸˆµðŸˆ²ðŸ…°ðŸ…±ðŸ†ŽðŸ†‘ðŸ…¾ðŸ†˜â›”ðŸ“›ðŸš«âŒâ­•ðŸ’¢â™¨ðŸš·ðŸš¯ðŸš³ðŸš±ðŸ”žðŸ“µâ—â•â“â”â€¼â‰ðŸ’¯ðŸ”…ðŸ”†ðŸ”±âšœã€½âš ðŸš¸ðŸ”°â™»ðŸˆ¯ðŸ’¹â‡âœ³âŽâœ…ðŸ’ ðŸŒ€âž¿ðŸŒâ“‚ðŸ§ðŸˆ‚ðŸ›‚ðŸ›ƒðŸ›„ðŸ›…â™¿ðŸš­ðŸš¾ðŸ…¿ðŸš°ðŸš¹ðŸšºðŸš¼ðŸš»ðŸš®ðŸŽ¦ðŸ“¶ðŸˆðŸ†–ðŸ†—ðŸ†™ðŸ†’ðŸ†•ðŸ†“0âƒ£1âƒ£2âƒ£3âƒ£4âƒ£5âƒ£6âƒ£7âƒ£8âƒ£9âƒ£ðŸ”ŸðŸ”¢â–¶â¸â¯â¹âºâ­â®â©âªðŸ”€ðŸ”ðŸ”‚â—€ðŸ”¼ðŸ”½â«â¬âž¡â¬…â¬†â¬‡â†—â†˜â†™â†–â†•â†”ðŸ”„â†ªâ†©â¤´â¤µ#âƒ£*âƒ£â„¹ðŸ”¤ðŸ”¡ðŸ” ðŸ”£ðŸŽµðŸŽ¶ã€°âž°âœ”ðŸ”ƒâž•âž–âž—âœ–ðŸ’²ðŸ’±ðŸ”šðŸ”™ðŸ”›ðŸ”ðŸ”œâ˜‘ðŸ”˜âšªâš«ðŸ”´ðŸ”µðŸ”¸ðŸ”¹ðŸ”¶ðŸ”·ðŸ”ºâ–ªâ–«â¬›â¬œðŸ”»â—¼â—»â—¾â—½ðŸ”²ðŸ”³ðŸ”ˆðŸ”‰ðŸ”ŠðŸ”‡ðŸ“£ðŸ“¢ðŸ””ðŸ”•ðŸƒðŸ€„â™ â™£â™¥â™¦ðŸŽ´ðŸ—¨ðŸ’­ðŸ—¯ðŸ’¬ðŸ•ðŸ•‘ðŸ•’ðŸ•“ðŸ•”ðŸ••ðŸ•–ðŸ•—ðŸ•˜ðŸ•™ðŸ•šðŸ•›ðŸ•œðŸ•ðŸ•žðŸ•ŸðŸ• ðŸ•¡ðŸ•¢ðŸ•£ðŸ•¤ðŸ•¥ðŸ•¦ðŸ•§"
    
    let flags = "ðŸ‡¦ðŸ‡«ðŸ‡¦ðŸ‡½ðŸ‡¦ðŸ‡±ðŸ‡©ðŸ‡¿ðŸ‡¦ðŸ‡¸ðŸ‡¦ðŸ‡©ðŸ‡¦ðŸ‡´ðŸ‡¦ðŸ‡®ðŸ‡¦ðŸ‡¶ðŸ‡¦ðŸ‡¬ðŸ‡¦ðŸ‡·ðŸ‡¦ðŸ‡²ðŸ‡¦ðŸ‡¼ðŸ‡¦ðŸ‡ºðŸ‡¦ðŸ‡¹ðŸ‡¦ðŸ‡¿ðŸ‡§ðŸ‡¸ðŸ‡§ðŸ‡­ðŸ‡§ðŸ‡©ðŸ‡§ðŸ‡§ðŸ‡§ðŸ‡¾ðŸ‡§ðŸ‡ªðŸ‡§ðŸ‡¿ðŸ‡§ðŸ‡¯ðŸ‡§ðŸ‡²ðŸ‡§ðŸ‡¹ðŸ‡§ðŸ‡´ðŸ‡§ðŸ‡¶ðŸ‡§ðŸ‡¦ðŸ‡§ðŸ‡¼ðŸ‡§ðŸ‡·ðŸ‡®ðŸ‡´ðŸ‡»ðŸ‡¬ðŸ‡§ðŸ‡³ðŸ‡§ðŸ‡¬ðŸ‡§ðŸ‡«ðŸ‡§ðŸ‡®ðŸ‡¨ðŸ‡»ðŸ‡°ðŸ‡­ðŸ‡¨ðŸ‡²ðŸ‡¨ðŸ‡¦ðŸ‡®ðŸ‡¨ðŸ‡°ðŸ‡¾ðŸ‡¨ðŸ‡«ðŸ‡¹ðŸ‡©ðŸ‡¨ðŸ‡±ðŸ‡¨ðŸ‡³ðŸ‡¨ðŸ‡½ðŸ‡¨ðŸ‡¨ðŸ‡¨ðŸ‡´ðŸ‡°ðŸ‡²ðŸ‡¨ðŸ‡¬ðŸ‡¨ðŸ‡©ðŸ‡¨ðŸ‡°ðŸ‡¨ðŸ‡·ðŸ‡­ðŸ‡·ðŸ‡¨ðŸ‡ºðŸ‡¨ðŸ‡¼ðŸ‡¨ðŸ‡¾ðŸ‡¨ðŸ‡¿ðŸ‡©ðŸ‡°ðŸ‡©ðŸ‡¯ðŸ‡©ðŸ‡²ðŸ‡©ðŸ‡´ðŸ‡ªðŸ‡¨ðŸ‡ªðŸ‡¬ðŸ‡¸ðŸ‡»ðŸ‡¬ðŸ‡¶ðŸ‡ªðŸ‡·ðŸ‡ªðŸ‡ªðŸ‡ªðŸ‡¹ðŸ‡ªðŸ‡ºðŸ‡«ðŸ‡°ðŸ‡«ðŸ‡´ðŸ‡«ðŸ‡¯ðŸ‡«ðŸ‡®ðŸ‡«ðŸ‡·ðŸ‡¬ðŸ‡«ðŸ‡µðŸ‡«ðŸ‡¹ðŸ‡«ðŸ‡¬ðŸ‡¦ðŸ‡¬ðŸ‡²ðŸ‡¬ðŸ‡ªðŸ‡©ðŸ‡ªðŸ‡¬ðŸ‡­ðŸ‡¬ðŸ‡®ðŸ‡¬ðŸ‡·ðŸ‡¬ðŸ‡±ðŸ‡¬ðŸ‡©ðŸ‡¬ðŸ‡µðŸ‡¬ðŸ‡ºðŸ‡¬ðŸ‡¹ðŸ‡¬ðŸ‡¬ðŸ‡¬ðŸ‡³ðŸ‡¬ðŸ‡¼ðŸ‡¬ðŸ‡¾ðŸ‡­ðŸ‡¹ðŸ‡­ðŸ‡³ðŸ‡­ðŸ‡°ðŸ‡­ðŸ‡ºðŸ‡®ðŸ‡¸ðŸ‡®ðŸ‡³ðŸ‡®ðŸ‡©ðŸ‡®ðŸ‡·ðŸ‡®ðŸ‡¶ðŸ‡®ðŸ‡ªðŸ‡®ðŸ‡²ðŸ‡®ðŸ‡±ðŸ‡®ðŸ‡¹ðŸ‡¨ðŸ‡®ðŸ‡¯ðŸ‡²ðŸ‡¯ðŸ‡µðŸ‡¯ðŸ‡ªðŸ‡¯ðŸ‡´ðŸ‡°ðŸ‡¿ðŸ‡°ðŸ‡ªðŸ‡°ðŸ‡®ðŸ‡½ðŸ‡°ðŸ‡°ðŸ‡¼ðŸ‡°ðŸ‡¬ðŸ‡±ðŸ‡¦ðŸ‡±ðŸ‡»ðŸ‡±ðŸ‡§ðŸ‡±ðŸ‡¸ðŸ‡±ðŸ‡·ðŸ‡±ðŸ‡¾ðŸ‡±ðŸ‡®ðŸ‡±ðŸ‡¹ðŸ‡±ðŸ‡ºðŸ‡²ðŸ‡´ðŸ‡²ðŸ‡°ðŸ‡²ðŸ‡¬ðŸ‡²ðŸ‡¼ðŸ‡²ðŸ‡¾ðŸ‡²ðŸ‡»ðŸ‡²ðŸ‡±ðŸ‡²ðŸ‡¹ðŸ‡²ðŸ‡­ðŸ‡²ðŸ‡¶ðŸ‡²ðŸ‡·ðŸ‡²ðŸ‡ºðŸ‡¾ðŸ‡¹ðŸ‡²ðŸ‡½ðŸ‡«ðŸ‡²ðŸ‡²ðŸ‡©ðŸ‡²ðŸ‡¨ðŸ‡²ðŸ‡³ðŸ‡²ðŸ‡ªðŸ‡²ðŸ‡¸ðŸ‡²ðŸ‡¦ðŸ‡²ðŸ‡¿ðŸ‡²ðŸ‡²ðŸ‡³ðŸ‡¦ðŸ‡³ðŸ‡·ðŸ‡³ðŸ‡µðŸ‡³ðŸ‡±ðŸ‡³ðŸ‡¨ðŸ‡³ðŸ‡¿ðŸ‡³ðŸ‡®ðŸ‡³ðŸ‡ªðŸ‡³ðŸ‡¬ðŸ‡³ðŸ‡ºðŸ‡³ðŸ‡«ðŸ‡²ðŸ‡µðŸ‡°ðŸ‡µðŸ‡³ðŸ‡´ðŸ‡´ðŸ‡²ðŸ‡µðŸ‡°ðŸ‡µðŸ‡¼ðŸ‡µðŸ‡¸ðŸ‡µðŸ‡¦ðŸ‡µðŸ‡¬ðŸ‡µðŸ‡¾ðŸ‡µðŸ‡ªðŸ‡µðŸ‡­ðŸ‡µðŸ‡³ðŸ‡µðŸ‡±ðŸ‡µðŸ‡¹ðŸ‡µðŸ‡·ðŸ‡¶ðŸ‡¦ðŸ‡·ðŸ‡ªðŸ‡·ðŸ‡´ðŸ‡·ðŸ‡ºðŸ‡·ðŸ‡¼ðŸ‡§ðŸ‡±ðŸ‡¸ðŸ‡­ðŸ‡°ðŸ‡³ðŸ‡±ðŸ‡¨ðŸ‡µðŸ‡²ðŸ‡»ðŸ‡¨ðŸ‡¼ðŸ‡¸ðŸ‡¸ðŸ‡²ðŸ‡¸ðŸ‡¹ðŸ‡¸ðŸ‡¦ðŸ‡¸ðŸ‡³ðŸ‡·ðŸ‡¸ðŸ‡¸ðŸ‡¨ðŸ‡¸ðŸ‡±ðŸ‡¸ðŸ‡¬ðŸ‡¸ðŸ‡½ðŸ‡¸ðŸ‡°ðŸ‡¸ðŸ‡®ðŸ‡¸ðŸ‡§ðŸ‡¸ðŸ‡´ðŸ‡¿ðŸ‡¦ðŸ‡¬ðŸ‡¸ðŸ‡°ðŸ‡·ðŸ‡¸ðŸ‡¸ðŸ‡ªðŸ‡¸ðŸ‡±ðŸ‡°ðŸ‡¸ðŸ‡©ðŸ‡¸ðŸ‡·ðŸ‡¸ðŸ‡¿ðŸ‡¸ðŸ‡ªðŸ‡¨ðŸ‡­ðŸ‡¸ðŸ‡¾ðŸ‡¹ðŸ‡¼ðŸ‡¹ðŸ‡¯ðŸ‡¹ðŸ‡¿ðŸ‡¹ðŸ‡­ðŸ‡¹ðŸ‡±ðŸ‡¹ðŸ‡¬ðŸ‡¹ðŸ‡°ðŸ‡¹ðŸ‡´ðŸ‡¹ðŸ‡¹ðŸ‡¹ðŸ‡³ðŸ‡¹ðŸ‡·ðŸ‡¹ðŸ‡²ðŸ‡¹ðŸ‡¨ðŸ‡¹ðŸ‡»ðŸ‡ºðŸ‡¬ðŸ‡ºðŸ‡¦ðŸ‡¦ðŸ‡ªðŸ‡¬ðŸ‡§ðŸ‡ºðŸ‡¸ðŸ‡»ðŸ‡®ðŸ‡ºðŸ‡¾ðŸ‡ºðŸ‡¿ðŸ‡»ðŸ‡ºðŸ‡»ðŸ‡¦ðŸ‡»ðŸ‡ªðŸ‡»ðŸ‡³ðŸ‡¼ðŸ‡«ðŸ‡ªðŸ‡­ðŸ‡¾ðŸ‡ªðŸ‡¿ðŸ‡²ðŸ‡¿ðŸ‡¼"
    
    var allEmojis: [Character] {
        return Array(smileysPeople + animalsNature + foodDrink + activity + travelPlaces + objects + symbols + flags)
    }
}

struct EmojiChooser: View {
    @Binding var show: Bool
    
    var onChoose: ((UIImage) -> Void)?
    
    init(show: Binding<Bool>, onChoose: ((UIImage) -> Void)? = nil) {
        self._show = show
        self.onChoose = onChoose
        
        UINavigationBar.appearance().barTintColor = .systemBackground
        UINavigationBar.appearance().shadowImage = UIImage()
    }
    
    var body: some View {
        
        NavigationView {
            EmojiSearchView(show: $show, onChoose: onChoose)
                .navigationBarTitle(LocalizedStringKey("Emojis"), displayMode: .inline)
                .navigationBarItems(trailing: CloseButton(show: $show))
        }
        
    }
}

struct EmojiSearchView: View {
    @Binding var show: Bool
    
    var onChoose: ((UIImage) -> Void)?
    
    @State private var emojiStore = EmojiStore()
    
    func emojiToId(_ emoji: Character) -> String {
        let uni = emoji.unicodeScalars
        let unicodes = uni.map { $0.value }.map { String($0, radix: 16, uppercase: false) }
        return unicodes.joined(separator: "-")
    }

    func tweemojiURL(for emoji: Character) -> URL? {
        let baseURL = URL(string: "https://twemoji.maxcdn.com/v/latest/72x72/")
        let url = baseURL?.appendingPathComponent(emojiToId(emoji)).appendingPathExtension("png")
        return url
    }
    
    func handleTap(emoji: Character) {
        SDWebImageManager.shared.loadImage(with: tweemojiURL(for: emoji), progress: nil, completed: { image, _, _, _, _, _ in
            guard let image = image else { return }
            show = false
            onChoose?(image)
        })
    }
    
    var body: some View {
        ScrollView(.vertical, showsIndicators: false) {
            VStack(alignment: .leading) {
                Text("Choose an Emoji")
                    .font(.title2)
                    .fontWeight(.medium)
                    .padding()
                
                LazyVGrid(columns: [GridItem(.adaptive(minimum: 50), spacing: 20)], spacing: 15) {
                    ForEach(emojiStore.allEmojis, id: \.self) { emoji in
                        Button(action: {
                            handleTap(emoji: emoji)
                        }) {
                            WebImage(url: tweemojiURL(for: emoji))
                                .resizable()
                                .placeholder {
                                    Circle()
                                        .stroke(style: StrokeStyle(lineCap: .round, lineJoin: .round, dash: [5]))
                                        .foregroundColor(.gray)
                                }
                                .scaledToFit()
                                .frame(width: 50, height: 50, alignment: .center)
                        }
                        .buttonStyle(PlainButtonStyle())
                        
                    }
                }
            }
            .padding()
        }
    }
}

struct EmojiChooser_Previews: PreviewProvider {
    static var previews: some View {
        EmojiChooser(show: .constant(true))
    }
}
